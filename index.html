<html>

	<head>

		<!-- we want to use D3, so this is where the D3 library version 5 gets called-->
		<script src="https://d3js.org/d3.v5.js"></script>

		<!--title of the webpage-->
		<title> CS5044 Practical 3 </title>

	</head>

	<body>

		<h1>Did Weather Affect Aerial Missions in WW2?</h1>
		<script>


			var weatherConverter = function(d)
      {
        	var yr = d.YR;
        	var mo = d.MO;
          var day = d.DA;

	        return{
        			date: new Date(+yr, +mo-1,+day),
        			Station: d.STA,
        			Precipitation: d.PRCP,
	        		peakWindSpeed: d.SPD,
        			maxTemp: d.MAX,
        			minTemp: d.MIN,
        			meanTemp: d.MEA
	        }
      }

			var opsConverter = function(d)
      {
        	var timeData = d['Mission Date'];
					var datum = timeData.split("/");

	        return{
        			date: new Date(+datum[2], +datum[0]-1,+datum[1]),
							theaterOfOperations: d['Theater of Operations'],
							country: d.Country,
							airForce: d['Air Force'],
							aircraftSeries: d['Aircraft Series'],
							missionType: d['Mission Type'],
							targetCountry: d['Target Country'],
							targetCity: d['Target City'],
							targetType: d['Target Type'],
							targetIndustry: d['Target Industry'],
							targetPrio: d['Target Priority'],
							altitude: d['Altitude (Hundreds of Feet)'],
							airboneAircraft: d['Airborne Aircraft'],
							attackingAircraft: d['Attacking Aircraft'],
							bombingAircraft: d['Bombing Aircraft'],
							highExplosiveWeight: d['High Explosives Weight (Pounds)'],
							totalWeight: d['Total Weight']

	        }
      }

			var dataOps = "data/operations.csv";
			var dataWeather = "data/ww2-weather.csv";
			var stationList = "data/station-list.csv";

			var promises = [d3.csv(dataOps, opsConverter), d3.csv(dataWeather, weatherConverter), d3.csv(stationList)];

			Promise.all(promises).then(ready);

			function ready(data)
			{
				console.log(data);
				var svgDoc = d3.select("body").append("svg").attr("width", 700).attr("height", 350);



			}


		</script>

	</body>

</html>
